(this["webpackJsonprewards-store"]=this["webpackJsonprewards-store"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,c){},,,,,,,function(e,t,c){},,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(1),r=c.n(s),n=c(18),a=c.n(n),o=(c(17),c(9)),i=c(2),l=(c(24),c(4)),u=c(8),j=c.n(u),d=c(11),b="https://coding-challenge-api.aerolab.co",h={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGZmNjE3NDY3Mjk2ZTAwMTk5NjQxNDgiLCJpYXQiOjE2MjczNDkzNjR9.RXl7IBspfCgl_O49ryUTUo57QYHpKi6ZQjTXRJSzEJg"},m={method:"GET",headers:h,redirect:"follow"},O=function(){var e=Object(d.a)(j.a.mark((function e(t,c){var s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"/user/me"),m);case 3:return s=e.sent,e.next=6,s.json();case 6:r=e.sent,t(r),c(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),c(!1),console.log("error",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,c){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(j.a.mark((function e(t,c){var s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"/products"),m);case 3:return s=e.sent,e.next=6,s.json();case 6:r=e.sent,t(r),c(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,c){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(j.a.mark((function e(t){var c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"/user/history"),m);case 3:return c=e.sent,e.next=6,c.json();case 6:s=e.sent,t(s.reverse()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(j.a.mark((function e(t,c,s,r){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify({amount:t}),a={method:"POST",headers:h,body:n,redirect:"follow"},e.prev=2,e.next=5,fetch("".concat(b,"/user/points"),a);case 5:c(!0),s(!0),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("error",e.t0),r(!0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,c,s,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(j.a.mark((function e(t,c,s,r,n){var a,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify({productId:t}),o={method:"POST",headers:h,body:a,redirect:"follow"},e.prev=2,e.next=5,fetch("".concat(b,"/redeem"),o);case 5:c(!0),s([]),r(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("error",e.t0),n(!0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,c,s,r,n){return e.apply(this,arguments)}}(),v=c(0),g=Object(s.createContext)();function N(e){var t=Object(s.useState)([]),c=Object(l.a)(t,2),r=c[0],n=c[1],a=Object(s.useState)(!1),o=Object(l.a)(a,2),i=o[0],u=o[1];return Object(s.useEffect)((function(){(0===r.length||i)&&O(n,u)}),[r,i]),Object(v.jsx)(g.Provider,{value:{userData:r,setUserData:n,refresh:i,setRefresh:u},children:e.children})}var C=function(){var e=Object(s.useContext)(g).userData;return Object(v.jsxs)("header",{className:"header",children:[Object(v.jsxs)("nav",{className:"header__nav",children:[Object(v.jsx)(o.b,{to:"/",children:Object(v.jsx)("img",{className:"header__logo",src:"/assets/aerolab-logo.svg",alt:"logo-aerolab"})}),Object(v.jsxs)("ul",{className:"header__navbar",children:[Object(v.jsx)("li",{children:Object(v.jsx)(o.b,{className:"header__navbar--options",to:"/",children:"Shop"})}),Object(v.jsx)("li",{children:Object(v.jsx)(o.b,{className:"header__navbar--options",to:"/orders",children:"Orders"})}),Object(v.jsx)("li",{children:Object(v.jsx)(o.b,{className:"header__navbar--options",to:"/getcoins",children:"Get Coins"})})]})]}),Object(v.jsxs)("div",{className:"header__userbox",children:[Object(v.jsx)("p",{className:"header__username",children:e.name}),Object(v.jsxs)("div",{className:"header__balancebox",children:[Object(v.jsx)("p",{className:"header__balancebox--balance",children:e.points}),Object(v.jsx)("img",{className:"header__balancebox--icon",src:"/assets/icons/coin.svg",alt:"icon of balance"})]})]})]})},y=(c(35),c(36),Object(s.createContext)());function S(e){var t=Object(s.useState)([]),c=Object(l.a)(t,2),r=c[0],n=c[1],a=Object(s.useState)("All Categories"),o=Object(l.a)(a,2),i=o[0],u=o[1],j=Object(s.useState)("All Prices"),d=Object(l.a)(j,2),b=d[0],h=d[1],m=Object(s.useState)([]),O=Object(l.a)(m,2),p=O[0],_=O[1];Object(s.useEffect)((function(){0===r.length&&x(n,_)}),[r]);var f={productsData:r,setProductsData:n,byCategories:i,setByCategories:u,byPrices:b,setByPrices:h,filterList:p,setFilterList:_};return Object(v.jsx)(y.Provider,{value:f,children:e.children})}var w=function(){var e=Object(s.useContext)(y),t=e.productsData,c=e.byCategories,r=e.setByCategories,n=e.byPrices,a=e.setByPrices,o=e.setFilterList;function i(e,t){return"Prices: Low to High"===n?e.cost-t.cost:"Prices: High to Low"===n?t.cost-e.cost:0}function l(){return t.filter((function(e){return"All Categories"!==c?e.category===c:e})).sort(i)}Object(s.useEffect)((function(){o(l)}),[c,n]);var u=function(e){return e.map((function(e){return Object(v.jsx)("option",{className:"filters__select--options",value:e,children:e})}))};return Object(v.jsxs)("section",{className:"filters",children:[Object(v.jsx)("p",{className:"filters__text",children:"Short by:"}),Object(v.jsx)("select",{className:"filters__select",value:c,onChange:function(e){r(e.target.value)},children:u(["All Categories","Phones","Gaming","Laptops","Cameras","Monitors & TV","Drones","Phone Accessories","Smart Home","Audio","Tablets & E-readers"])}),Object(v.jsx)("select",{className:"filters__select",value:n,onChange:function(e){a(e.target.value)},children:u(["All Prices","Prices: Low to High","Prices: High to Low"])})]})},k=(c(37),Object(s.createContext)());function P(e){var t=Object(s.useState)([]),c=Object(l.a)(t,2),r=c[0],n=c[1];return Object(s.useEffect)((function(){0===r.length&&p(n)}),[r]),Object(v.jsx)(k.Provider,{value:{ordersData:r,setOrdersData:n},children:e.children})}var E=Object(s.createContext)();function D(e){var t=Object(s.useState)(!1),c=Object(l.a)(t,2),r=c[0],n=c[1],a=Object(s.useState)(!1),o=Object(l.a)(a,2),i={showError:r,setShowError:n,showSuccess:o[0],setShowSuccess:o[1]};return Object(v.jsx)(E.Provider,{value:i,children:e.children})}var R=function(e){var t=e.idProduct,c=e.image,r=e.name,n=e.category,a=e.cost,i=Object(s.useContext)(g),l=i.userData,u=i.setRefresh,j=Object(s.useContext)(k).setOrdersData,d=Object(s.useContext)(E),b=d.setShowSuccess,h=d.setShowError;function m(e,t){return l.points>a?e:t}var O=Object(v.jsx)("img",{className:"product__icon",src:"/assets/icons/buy-blue.svg",alt:"icon blue buy"}),x=Object(v.jsx)("img",{className:"product__icon--hover",src:"/assets/icons/buy-white.svg",alt:"icon blue buy"}),p=Object(v.jsxs)("p",{className:"product__pointsremaining",children:["You need ",a-l.points,Object(v.jsx)("img",{className:"product__pointsremaining--icon",src:"/assets/icons/coin.svg",alt:"icon coin"})]}),_=m(!1,!0),N=Object(v.jsx)("button",{className:"product__btn",disabled:_,onClick:function(){f(t,u,j,b,h)},children:"Enjoy and Reedem Now"}),C=Object(v.jsx)(o.b,{to:"/getcoins",children:Object(v.jsx)("button",{className:"product__btn disable",children:"GET MORE COINS"})});return Object(v.jsxs)("div",{className:"product",children:[m(O,p),m(x,null),Object(v.jsx)("img",{className:"product__image",src:c,alt:r}),Object(v.jsx)("hr",{className:"product__line"}),Object(v.jsx)("p",{className:"product__category",children:n}),Object(v.jsx)("p",{className:"product__name",children:r}),Object(v.jsxs)("div",{className:"product__hover",children:[Object(v.jsxs)("div",{className:"product__price",children:[Object(v.jsx)("p",{className:"product__price--value",children:a}),Object(v.jsx)("img",{className:"product__price--icon",src:"/assets/icons/coin.svg",alt:"icon coin"})]}),m(N,C)]})]})};c(38);var I=function(e){var t=e.prevPage,c=e.nextPage,s=e.jump,r=e.numberJump,n=function(){for(var e=[],t=1;t<=r;t++)e.push(t);return e}().map((function(e){return Object(v.jsx)("button",{className:"pagination__btn",onClick:function(){return s(e)},children:e},e)}));return Object(v.jsxs)("div",{className:"pagination",children:[Object(v.jsx)("button",{className:"pagination__btn right",onClick:t,children:"v"}),n,Object(v.jsx)("button",{className:"pagination__btn left",onClick:c,children:"v"})]})};var J=function(e,t){var c=Object(s.useState)(1),r=Object(l.a)(c,2),n=r[0],a=r[1],o=Math.ceil(e.length/t);return{currentData:function(){var c=(n-1)*t,s=c+t;return e.slice(c,s)},next:function(){a((function(e){return Math.min(e+1,o)}))},prev:function(){a((function(e){return Math.max(e-1,1)}))},jump:function(e){var t=Math.max(1,e);a((function(e){return Math.min(t,o)}))}}};var T=function(){var e=Object(s.useContext)(y).filterList,t=J(e,16),c=e.length,r=t.currentData().length,n=Math.ceil(c/r),a=t.currentData().map((function(e){var t=e._id,c=e.img.hdUrl,s=e.name,r=e.category,n=e.cost;return Object(v.jsx)(R,{idProduct:t,image:c,name:s,category:r,cost:n},t)}));return Object(v.jsxs)("section",{className:"shop",children:[Object(v.jsx)("img",{className:"shop__hero",src:"/assets/header-x1.png",alt:""}),Object(v.jsx)("h1",{className:"shop__title",children:"Electronics"}),Object(v.jsxs)("div",{className:"shop__pagination",children:[Object(v.jsx)("p",{className:"shop__pagination--text",children:"".concat(r," of ").concat(c," Products")}),Object(v.jsx)(w,{}),Object(v.jsx)("div",{className:"shop__pagination--topbox",children:Object(v.jsx)(I,{prevPage:t.prev,nextPage:t.next,jump:t.jump,numberJump:n})})]}),Object(v.jsx)("section",{className:"shop__products",children:a}),Object(v.jsx)("div",{className:"shop__pagination--botbox",children:Object(v.jsx)(I,{prevPage:t.prev,nextPage:t.next,jump:t.jump,numberJump:n})})]})};c(39),c(40);var M=function(e){var t=e.id,c=e.name,s=e.category,r=e.cost,n=e.date,a=e.img;return Object(v.jsxs)("div",{className:"order",children:[Object(v.jsx)("img",{className:"order__img",src:a,alt:""}),Object(v.jsxs)("article",{className:"order__data",children:[Object(v.jsx)("p",{className:"order__data--text",children:c}),Object(v.jsx)("p",{className:"order__data--text",children:s}),Object(v.jsxs)("p",{className:"order__data--text",children:["Cost: ",r]}),Object(v.jsxs)("p",{className:"order__data--text",children:["Date: ",n]}),Object(v.jsxs)("p",{className:"order__data--text",children:["Id: ",t]})]})]})};var A=function(){var e=Object(s.useContext)(k).ordersData.map((function(e){var t=e.productId,c=e.name,s=e.category,r=e.cost,n=e.createDate,a=e.img.hdUrl;return Object(v.jsx)(M,{id:t,name:c,category:s,cost:r,date:n,img:a},t)}));return Object(v.jsxs)("section",{className:"redeems",children:[Object(v.jsx)("h2",{className:"redeems__title",children:"ORDERS HISTORY"}),Object(v.jsx)("h3",{className:"redeems__subtitle",children:"History of your orders"}),Object(v.jsx)("div",{className:"redeems__orders",children:e})]})};c(41);var L=function(){var e=Object(s.useContext)(g).setRefresh,t=Object(s.useContext)(E),c=t.setShowSuccess,r=t.setShowError,n=function(t){_(t,e,c,r)};return Object(v.jsxs)("section",{className:"coins",children:[Object(v.jsx)("h2",{className:"coins__title",children:"GET MORE COINS"}),Object(v.jsx)("h3",{className:"coins__subtitle",children:"choose your favorite package now."}),Object(v.jsxs)("div",{className:"coins__container",children:[Object(v.jsxs)("button",{className:"coins__container--btn",onClick:function(){return n(1e3)},children:["1000"," ",Object(v.jsx)("img",{className:"coins__container--img",src:"/assets/icons/coin.svg",alt:"coin icon"})]}),Object(v.jsxs)("button",{className:"coins__container--btn",onClick:function(){return n(5e3)},children:["5000",Object(v.jsx)("img",{className:"coins__container--img",src:"/assets/icons/coin.svg",alt:"coin icon"})]}),Object(v.jsxs)("button",{className:"coins__container--btn",onClick:function(){return n(7500)},children:["7500",Object(v.jsx)("img",{className:"coins__container--img",src:"/assets/icons/coin.svg",alt:"coin icon"})]})]})]})};c(42);var U=function(){var e=Object(s.useContext)(E),t=e.showError,c=e.setShowError,r=t?"background__modalerror":"background__modalerror disable";return Object(v.jsx)("div",{className:r,children:Object(v.jsxs)("div",{className:"modalerror",children:[Object(v.jsx)("img",{className:"modalerror__gif",src:"/assets/gif-error.gif",alt:"gif face confused"}),Object(v.jsx)("h3",{className:"modalerror__title",children:"ERROR...so sorry!"}),Object(v.jsx)("p",{className:"modalerror__text",children:"OH NO! Something went wrong..."}),Object(v.jsx)("button",{className:"modalerror__btn",onClick:function(){return c(!1)},children:"TRY AGAYN"})]})})};c(43);var H=function(){var e=Object(s.useContext)(E),t=e.showSuccess,c=e.setShowSuccess,r=t?"background__modalsuccess":"background__modalsuccess disable";return Object(v.jsx)("div",{className:r,children:Object(v.jsxs)("div",{className:"modalsuccess",children:[Object(v.jsx)("img",{className:"modalsuccess__gif",src:"/assets/gif-success.gif",alt:"gif face confused"}),Object(v.jsx)("h3",{className:"modalsuccess__title",children:"SUCCESS!"}),Object(v.jsx)("p",{className:"modalsuccess__text",children:"WUJU! Everything is working."}),Object(v.jsx)("button",{className:"modalsuccess__btn",onClick:function(){return c(!1)},children:"CONTINUE"})]})})};var G=function(){return Object(v.jsx)(o.a,{children:Object(v.jsx)(D,{children:Object(v.jsx)(P,{children:Object(v.jsx)(S,{children:Object(v.jsx)(N,{children:Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(C,{}),Object(v.jsx)(U,{}),Object(v.jsx)(H,{}),Object(v.jsx)("main",{className:"main",children:Object(v.jsxs)(i.c,{children:[Object(v.jsx)(i.a,{exact:!0,path:"/",component:T}),Object(v.jsx)(i.a,{path:"/orders",component:A}),Object(v.jsx)(i.a,{path:"/getcoins",component:L})]})})]})})})})})})};a.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(G,{})}),document.getElementById("root"))}],[[44,1,2]]]);
//# sourceMappingURL=main.366673b6.chunk.js.map